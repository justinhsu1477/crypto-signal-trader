# ========================================
# Prod 環境 override — Binance 正式環境, Neon 雲端 DB
# ========================================
# 使用方式:
#   docker compose -f docker-compose.yml -f docker-compose.prod.yml up -d --build
#
# Prod 環境不啟動本地 PostgreSQL，改用 Neon 雲端資料庫
# DB 連線設定在 .env.prod 中

services:
  trading-api:
    container_name: trading-api-prod
    ports:
      - "8081:8080"
    env_file:
      - .env.prod

  discord-monitor:
    container_name: discord-monitor-prod
    env_file:
      - .env.prod

  web-dashboard:
    container_name: web-dashboard-prod
    ports:
      - "3001:3000"
    environment:
      - NEXT_PUBLIC_API_URL=http://trading-api:8080
    env_file:
      - .env.prod
