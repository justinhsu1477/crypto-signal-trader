# ========================================
# Prod 環境 override — Binance 正式環境, port 8081
# ========================================
# 使用方式:
#   docker compose -f docker-compose.yml -f docker-compose.prod.yml up -d --build

services:
  postgres:
    container_name: trading-db-prod
    ports:
      - "5433:5432"
    volumes:
      - pg-data-prod:/var/lib/postgresql/data

  trading-api:
    container_name: trading-api-prod
    ports:
      - "8081:8080"
    env_file:
      - .env.prod

  discord-monitor:
    container_name: discord-monitor-prod
    env_file:
      - .env.prod

  web-dashboard:
    container_name: web-dashboard-prod
    ports:
      - "3001:3000"
    environment:
      - NEXT_PUBLIC_API_URL=http://trading-api:8080
    env_file:
      - .env.prod

volumes:
  pg-data-prod:
