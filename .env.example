# ========================================
# Crypto Signal Trader - 環境變數設定
# ========================================
# 依環境複製為對應的 .env 檔案：
#   Dev:  cp .env.example .env.dev   (Binance Testnet, port 8080)
#   Prod: cp .env.example .env.prod  (Binance 正式環境, port 8081)
#
# 啟動方式：
#   Dev:  docker compose -f docker-compose.yml -f docker-compose.dev.yml up -d --build
#   Prod: docker compose -f docker-compose.yml -f docker-compose.prod.yml up -d --build

# === Spring Profile ===
# dev  = Binance Testnet (https://demo-fapi.binance.com) — 假錢測試
# prod = Binance 正式環境 (https://fapi.binance.com) — 真錢交易
SPRING_PROFILES_ACTIVE=dev

# === Binance API Keys ===
# Dev (Testnet):  https://testnet.binancefuture.com → 用 GitHub 登入 → API Management
# Prod (正式):    https://www.binance.com → 帳戶 → API 管理
BINANCE_API_KEY=your_api_key_here
BINANCE_SECRET_KEY=your_secret_key_here

# === Discord Webhook 通知 ===
# 在 Discord 伺服器設定 → 整合 → Webhook 建立
# 格式: https://discord.com/api/webhooks/{id}/{token}
DISCORD_WEBHOOK_URL=
DISCORD_WEBHOOK_ENABLED=false
# Per-User Webhook（多用戶模式下，優先使用用戶自定義 webhook）
# true = 使用用戶在 Dashboard 設定的 webhook，false = 全部用全局 URL
DISCORD_WEBHOOK_PER_USER_ENABLED=false
# 用戶無自定義 webhook 時，是否 fallback 到全局 URL
DISCORD_WEBHOOK_FALLBACK=true

# === Discord 監聽設定 (Python Discord Monitor 使用) ===
# Discord 頻道 ID (多個用逗號分隔)
DISCORD_CHANNEL_IDS=your_channel_id_here
# Discord 伺服器 ID (選填，多個用逗號分隔)
DISCORD_GUILD_IDS=your_guild_id_here

# === Gemini AI ===
# https://aistudio.google.com/apikey 取得 API Key
GEMINI_API_KEY=

# === AI 交易顧問 ===
# 是否啟用每小時 AI 分析（true/false）
ADVISOR_ENABLED=false

# === SaaS 功能 ===
# JWT 認證
JWT_SECRET=your-jwt-secret-at-least-256-bits-long

# AES-256 加密金鑰（用於加密用戶 API Key，必須 32 字元）
AES_ENCRYPTION_KEY=your-aes-key-must-be-32-chars!!

# Stripe 訂閱計費
STRIPE_SECRET_KEY=sk_test_placeholder
STRIPE_WEBHOOK_SECRET=whsec_placeholder

# === PostgreSQL 資料庫 ===
# Docker 內部用 service name 'postgres' 連線
DB_URL=jdbc:postgresql://postgres:5432/trading
DB_USERNAME=trading
DB_PASSWORD=trading

# ===== 多用戶廣播模式 =====
# 啟用多用戶模式（多人跟單廣播）
MULTI_USER_ENABLED=false
# Per-User 個人化交易參數（true = 用戶自定風控，false = 全局 RiskConfig）
PER_USER_SETTINGS_ENABLED=false
# 當前交易用戶 ID（單用戶模式使用）
TRADING_USER_ID=test-user
# RabbitMQ 非同步廣播（true = 用 RabbitMQ，false = 同步 Thread Pool）
RABBITMQ_ENABLED=false

# === Monitor API Key（Python Monitor 內部認證）===
# 用來認證 Python Monitor 對 Spring Boot 交易 API 的請求
# 正式環境請用強隨機字串（32+ 字元）
MONITOR_API_KEY=your-monitor-api-key-here

# === HikariCP 連線池 ===
HIKARI_MAX_POOL_SIZE=20
